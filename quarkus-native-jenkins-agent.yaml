schema_version: 1

name: "quay.io/quarkus/ubi-quarkus-native-jenkins-agent"
version: "latest"
labels:
- name: "io.k8s.description"
  value: "Quarkus.io Jenkins Agent for building Kubernetes Native Java GraalVM applications."
- name: "io.k8s.display-name"
  value: "Quarkus.io Jenkins Agent (GraalVM Native)"
- name: "io.openshift.tags"
  value: "builder,java,quarkus,native,jenkins,slave"

modules:
  install:
  - name: common-packages
  - name: add-quarkus-user
  - name: maven-binary
    version: 3.6.1
  - name: maven-config
  - name: graalvm
    version: 19.0.2
  #- name: gradle-binary
  #  version: 5.4.1
  - name: oc-cli
    version: "3.11"
  - name: jenkins-slave


# Use the run script as default since we are working as an hybrid image which can be
# used directly to. (If we were a plain s2i image we would print the usage info here.)
run:
  user: 0
  workdir: "/home/jenkins"
  entrypoint:
  - "/usr/bin/dumb-init"
  - "--"
  - "/usr/local/bin/run-jnlp-client"
  cmd:
  - ""